{% schema %}
{
  "name": "UF Journey",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "More than a Diaper, Love, made visible"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Simple. True. This is your signature whisper to close the journey with meaning."
    },
    {
      "type": "image_picker",
      "id": "row1_image_1",
      "label": "Row 1 Image 1"
    },
    {
      "type": "image_picker",
      "id": "row1_image_2",
      "label": "Row 1 Image 2"
    },
    {
      "type": "image_picker",
      "id": "row1_image_3",
      "label": "Row 1 Image 3"
    },
    {
      "type": "image_picker",
      "id": "row1_image_4",
      "label": "Row 1 Image 4"
    },
    {
      "type": "image_picker",
      "id": "row1_image_5",
      "label": "Row 1 Image 5"
    },
    {
      "type": "image_picker",
      "id": "row2_image_1",
      "label": "Row 2 Image 1"
    },
    {
      "type": "image_picker",
      "id": "row2_image_2",
      "label": "Row 2 Image 2"
    },
    {
      "type": "image_picker",
      "id": "row2_image_3",
      "label": "Row 2 Image 3"
    },
    {
      "type": "image_picker",
      "id": "row2_image_4",
      "label": "Row 2 Image 4"
    },
    {
      "type": "image_picker",
      "id": "row2_image_5",
      "label": "Row 2 Image 5"
    }
  ],
  "presets": [
    { "name": "UF Journey" }
  ]
}
{% endschema %}

<div class="uf-journey__section">
  <div class="uf-journey__container">
    <h2 class="h1 uf-journey__heading">{{ section.settings.heading }}</h2>
    <div class="uf-journey__subheading">{{ section.settings.subheading }}</div>

    <!-- Row 1: scrolls left -->
    <div class="uf-journey__row uf-journey__row--left">
      <div class="uf-journey__marquee">
        {% for i in (1..5) %}
          {% assign key = "row1_image_" | append: i %}
          {% assign img = section.settings[key] %}
          {% if img != blank %}
            <div class="uf-journey__img-wrap">
              <img
                src="{{ img | image_url: width: 600 }}"
                alt="Journey photo {{ i }}"
                loading="lazy"
                width="300"
                height="300"
              >
            </div>
          {% endif %}
        {% endfor %}
        <!-- Duplicate for seamless loop -->
        {% for i in (1..5) %}
          {% assign key = "row1_image_" | append: i %}
          {% assign img = section.settings[key] %}
          {% if img != blank %}
            <div class="uf-journey__img-wrap">
              <img
                src="{{ img | image_url: width: 600 }}"
                alt="Journey photo duplicate {{ i }}"
                loading="lazy"
                width="300"
                height="300"
              >
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>

    <!-- Row 2: scrolls right -->
    <div class="uf-journey__row uf-journey__row--right">
      <div class="uf-journey__marquee uf-journey__marquee--reverse">
        {% for i in (1..5) %}
          {% assign key = "row2_image_" | append: i %}
          {% assign img = section.settings[key] %}
          {% if img != blank %}
            <div class="uf-journey__img-wrap">
              <img
                src="{{ img | image_url: width: 600 }}"
                alt="Journey photo {{ i }}"
                loading="lazy"
                width="300"
                height="300"
              >
            </div>
          {% endif %}
        {% endfor %}
        <!-- Duplicate for seamless loop -->
        {% for i in (1..5) %}
          {% assign key = "row2_image_" | append: i %}
          {% assign img = section.settings[key] %}
          {% if img != blank %}
            <div class="uf-journey__img-wrap">
              <img
                src="{{ img | image_url: width: 600 }}"
                alt="Journey photo duplicate {{ i }}"
                loading="lazy"
                width="300"
                height="300"
              >
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<style>
.uf-journey__section {
  background: var(--custom-light, #FDFCF9);
  padding: 0 0 2rem 0;
  width: 100%;
}

.uf-journey__container {
  max-width: var(--page-width, 1200px);
  margin: 0 auto;
  padding: 2.5rem 1.5rem 0 1.5rem;
  text-align: center;
}

.uf-journey__heading {
  color: var(--custom-dark, #384148);
  margin-bottom: 0.6rem;
}

.uf-journey__subheading {
  color: var(--custom-dark, #384148);
  opacity: 0.75;
  margin-bottom: 2.2rem;
}

.uf-journey__row {
  overflow: hidden;
  width: 100%;
  margin-bottom: 1.3rem;
}

.uf-journey__marquee {
  display: flex;
  align-items: stretch;
  gap: 1.4rem;
  animation: uf-journey-marquee 24s linear infinite;
}
.uf-journey__marquee--reverse {
  animation-direction: reverse;
}

@keyframes uf-journey-marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.uf-journey__img-wrap {
  flex: 0 0 220px;
  width: 220px;
  height: 220px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-radius: 1.2rem;
  background: #f7f7f4;
}
.uf-journey__img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 1.2rem;
}

/* Responsive */
@media (max-width: 900px) {
  .uf-journey__container {
    padding: 1.5rem 0.5rem 0 0.5rem;
  }
  .uf-journey__img-wrap {
    flex-basis: 140px;
    width: 140px;
    height: 140px;
  }
}

@media (max-width: 600px) {
  .uf-journey__heading {
    font-size: 1.25rem;
  }
  .uf-journey__img-wrap {
    flex-basis: 94px;
    width: 94px;
    height: 94px;
    border-radius: 0.55rem;
  }
  .uf-journey__marquee, .uf-journey__marquee--reverse {
    gap: 0.4rem;
  }
}
</style>
